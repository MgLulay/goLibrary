(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"7wo0":function(e,o,t){"use strict";t.r(o),t.d(o,"SettingsModule",(function(){return w}));var s=t("ofXK"),n=t("3Pt+"),i=t("1kSV"),r=t("tyNb"),a=t("Sy8H"),c=t("fXoL"),b=t("8vjg"),l=t("J8x5");function d(e,o){if(1&e){const e=c.Qb();c.Pb(0,"tr"),c.Pb(1,"td",20),c.zc(2),c.Ob(),c.Pb(3,"td"),c.zc(4),c.Ob(),c.Pb(5,"td"),c.zc(6),c.Ob(),c.Pb(7,"td"),c.zc(8),c.Ob(),c.Pb(9,"td"),c.zc(10),c.Ob(),c.Pb(11,"td"),c.zc(12),c.Ob(),c.Pb(13,"td",21),c.Pb(14,"span",14),c.ac("click",(function(){c.rc(e);const t=o.$implicit;return c.cc().itemDetail(t)})),c.Lb(15,"i",22),c.Ob(),c.Ob(),c.Ob()}if(2&e){const e=o.$implicit,t=o.index;c.xb(2),c.Ac(t+1),c.xb(2),c.Ac(e.userid),c.xb(2),c.Ac(e.username),c.xb(2),c.Ac(e.userrole),c.xb(2),c.Ac(e.phone),c.xb(2),c.Ac(e.email)}}const p=function(){return{standalone:!0}};let g=(()=>{class e{constructor(e,o,t){this._router=e,this.http=o,this.dataService=t,this.itemList=[],this.searchString="",this.totalCount=10,this.currentPage=1,this.pageSize=10,this.searchTerm("")}ngOnInit(){this.dataService.isLoginUser()||this._router.navigate(["/login"])}searchChange(e){""==e&&this.searchTerm("")}searchTerm(e){let o={};o=isNaN(e)?{name:e,currentpage:this.currentPage,pagesize:this.pageSize}:{code:e,currentpage:this.currentPage,pagesize:this.pageSize},this.http.doPost(this.dataService._apiurl+"/user/findByCriteria",o).subscribe(e=>{console.log("result: ",JSON.stringify(e)),this.itemList=e.list,this.totalCount=e.totalcount})}loadPage(e){this.currentPage=e,this.searchTerm(this.searchString)}addItem(){this._router.navigate(["/settings/user-detail"])}itemDetail(e){this._router.navigate(["/settings/user-detail",e.systemkey])}}return e.\u0275fac=function(o){return new(o||e)(c.Kb(r.b),c.Kb(b.a),c.Kb(l.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-user"]],decls:40,vars:10,consts:[[1,"bg-style"],[1,"row",2,"margin","0px"],[1,"col","col-xl-6","col-lg-12"],[1,"row"],[1,"col","col-md-12","col-lg-12"],[1,"card","mb-3",2,"min-height","30rem"],[1,"card-header"],[1,"col-md-6"],[1,"form-group","input-group"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],[1,"input-group-append"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-search"],[1,"table","table-sm","table-hover","table-striped"],[3,"click"],["aria-hidden","true",1,"fa","fa-plus-circle",2,"font-size","18px"],[4,"ngFor","ngForOf"],[1,"rows"],[1,"col","col-xl-12","col-lg-12"],["size","sm",1,"d-flex","justify-content-end",3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["scope","row"],[2,"text-align","center"],["aria-hidden","true",1,"fa","fa-arrow-circle-o-right"]],template:function(e,o){1&e&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"div",2),c.Pb(3,"h2"),c.zc(4,"User"),c.Ob(),c.Ob(),c.Ob(),c.Pb(5,"div",3),c.Pb(6,"div",4),c.Pb(7,"div",5),c.Pb(8,"div",6),c.Pb(9,"div",3),c.Pb(10,"div",7),c.Pb(11,"div",8),c.Pb(12,"input",9),c.ac("ngModelChange",(function(e){return o.searchString=e}))("ngModelChange",(function(e){return o.searchChange(e)}))("keyup.enter",(function(){return o.searchTerm(o.searchString)})),c.Ob(),c.Pb(13,"div",10),c.Pb(14,"button",11),c.ac("click",(function(){return o.searchTerm(o.searchString)})),c.Lb(15,"i",12),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Lb(16,"div",7),c.Ob(),c.Ob(),c.Pb(17,"table",13),c.Pb(18,"thead"),c.Pb(19,"tr"),c.Pb(20,"th"),c.Pb(21,"span",14),c.ac("click",(function(){return o.addItem()})),c.Lb(22,"i",15),c.Ob(),c.Ob(),c.Pb(23,"th"),c.zc(24,"Code"),c.Ob(),c.Pb(25,"th"),c.zc(26,"Name"),c.Ob(),c.Pb(27,"th"),c.zc(28,"Role"),c.Ob(),c.Pb(29,"th"),c.zc(30,"Phone"),c.Ob(),c.Pb(31,"th"),c.zc(32,"E-Mail"),c.Ob(),c.Pb(33,"th"),c.zc(34,"\xa0"),c.Ob(),c.Ob(),c.Ob(),c.Pb(35,"tbody"),c.xc(36,d,16,6,"tr",16),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(37,"div",17),c.Pb(38,"div",18),c.Pb(39,"ngb-pagination",19),c.ac("pageChange",(function(e){return o.loadPage(e)}))("pageChange",(function(e){return o.currentPage=e})),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.xb(12),c.ic("ngModel",o.searchString)("ngModelOptions",c.lc(9,p)),c.xb(24),c.ic("ngForOf",o.itemList),c.xb(3),c.ic("collectionSize",o.totalCount)("page",o.currentPage)("pageSize",o.pageSize)("maxSize",5)("rotate",!0)("boundaryLinks",!0))},directives:[n.a,n.e,n.h,s.l,i.k],styles:[".bg-style[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{background-color:#fff}.card-header[_ngcontent-%COMP%]{padding:10px 0 0;margin-bottom:0}.card[_ngcontent-%COMP%]{padding:5px 10px 0}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom;background-color:#3d0af5;color:#fff;border:2px solid #dee2e6;border-left:none;white-space:nowrap;padding:5px;font-size:14px!important;text-align:center}"]}),e})();var h=t("E4M5");function m(e,o){if(1&e&&(c.Pb(0,"option",33),c.zc(1),c.Ob()),2&e){const e=o.$implicit;c.jc("value",e.rolekey),c.xb(1),c.Ac(e.name)}}const u=function(){return{standalone:!0}};let f=(()=>{class e{constructor(e,o,t,s,n){this._router=e,this.route=o,this.http=t,this.dataService=s,this.msgService=n,this._obj=this.getDefaultObj(),this.show={psw:!1,cpsw:!1,psc:!1,cpsc:!1},this._confirmData={confirmpassword:"",confirmpasscode:""},this._typelist=[{rolekey:"1",code:"admin",name:"Admin"},{rolekey:"2",code:"manager",name:"Manager"},{rolekey:"3",code:"supervisor",name:"Supervisor"},{rolekey:"4",code:"normaluser",name:"Normal User"}]}ngOnInit(){this.route.params.subscribe(e=>{let o=e.id;"0"!=o&&null!=o&&""!=o?this.readByKey(o):this._obj=this.getDefaultObj()})}toggleShow(e){"psw"==e?this.show.psw=!this.show.psw:"cpsw"==e?this.show.cpsw=!this.show.cpsw:"psc"==e?this.show.psc=!this.show.psc:"cpsc"==e&&(this.show.cpsc=!this.show.cpsc)}goList(){this._router.navigate(["/settings"])}goNew(){this._obj=this.getDefaultObj(),this._confirmData.confirmpasscode=this._obj.passcode,this._confirmData.confirmpassword=this._obj.password}readByKey(e){this.http.doPost(this.dataService.getApiUrl()+"/user/findUser/",{systemkey:e}).subscribe(e=>{console.log("resss: ",e),this._obj.systemkey=e.productkey,this._obj.userid=e.userid,this._obj.username=e.username,this._obj.userrole=e.userrole,this._obj.phone=e.phone,this._obj.email=e.email,this._obj.password=e.password,this._obj.passcode=e.passcode,this._confirmData.confirmpasscode=e.passcode,this._confirmData.confirmpassword=e.password})}goSave(){this.isValid()&&this.http.doPost(this.dataService.getApiUrl()+"/user/save",this._obj).subscribe(e=>{"SUCCESS"==e.message.toUpperCase()?(this.showMessage("success","Save Successfully!"),this.goNew()):"CODEEXIT"==e.message.toUpperCase()?this.showMessage("warning","Already Code Exsits!"):this.showMessage("warning","FAIL!")})}isValid(){return 0===this._obj.userid.trim().length||null==this._obj.userid?(this.showMessage("warning","Invalid UserId."),!1):0===this._obj.username.trim().length?(this.showMessage("warning","Invalid UserName."),!1):0===this._obj.password.trim().length?(this.showMessage("warning","Invalid Password."),!1):this._obj.password!=this._confirmData.confirmpassword?(this.showMessage("warning","Passwords Don't Match."),!1):this._obj.passcode==this._confirmData.confirmpasscode||(this.showMessage("warning","Passcode Don't Match."),!1)}getDefaultObj(){return{systemkey:"0",userid:"",username:"",password:"",passcode:"",phone:"",email:"",userrole:"1"}}showMessage(e,o){this.msgService.sendMessage({t1:"alert",t2:e,t3:o})}}return e.\u0275fac=function(o){return new(o||e)(c.Kb(r.b),c.Kb(r.a),c.Kb(b.a),c.Kb(l.a),c.Kb(h.a))},e.\u0275cmp=c.Eb({type:e,selectors:[["app-user-detail"]],decls:80,vars:36,consts:[[1,"form"],[1,"row"],[1,"col-md-12"],[2,"float","left"],[1,"col","col-md-6",2,"text-align","center"],[1,"btn","btn-primary","btn-sm","btn-ws","mr-2",3,"click"],[1,"row",2,"margin-bottom","10px"],[1,"card"],[1,"col-md-6"],[1,"form-group","row"],["for","code",1,"col-sm-4","col-form-label","col-form-label-sm"],[1,"col-sm-8"],["type","text","id","code","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],["for","name",1,"col-sm-4","col-form-label","col-form-label-sm"],["type","text","id","name","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],["for","password",1,"col-sm-4","col-form-label","col-form-label-sm"],[1,"input-group","input-group-sm"],["id","password",1,"form-control","form-control-sm",3,"type","ngModel","ngModelOptions","ngModelChange"],[1,"input-group-append"],["id","pa",1,"input-group-text",3,"click"],[3,"ngClass"],["for","confirmpassword",1,"col-sm-4","col-form-label","col-form-label-sm"],["id","confirmpassword",1,"form-control","form-control-sm",3,"type","ngModel","ngModelOptions","ngModelChange"],["for","passcode",1,"col-sm-4","col-form-label","col-form-label-sm"],["id","passcode",1,"form-control","form-control-sm",3,"type","ngModel","ngModelOptions","ngModelChange"],["for","confirmpasscode",1,"col-sm-4","col-form-label","col-form-label-sm"],["id","confirmpasscode",1,"form-control","form-control-sm",3,"type","ngModel","ngModelOptions","ngModelChange"],["for","price",1,"col-sm-4","col-form-label","col-form-label-sm"],["type","text","id","phone","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","id","email","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],["for","select1",1,"col-sm-4","col-form-label","col-form-label-sm"],["id","select1",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,o){1&e&&(c.Pb(0,"div",0),c.Pb(1,"form"),c.Pb(2,"legend"),c.Pb(3,"div",1),c.Pb(4,"div",2),c.Pb(5,"span",3),c.zc(6,"User Setup"),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(7,"div",1),c.Pb(8,"div",4),c.Pb(9,"button",5),c.ac("click",(function(){return o.goList()})),c.zc(10,"List"),c.Ob(),c.Pb(11,"button",5),c.ac("click",(function(){return o.goNew()})),c.zc(12,"New"),c.Ob(),c.Pb(13,"button",5),c.ac("click",(function(){return o.goSave()})),c.zc(14,"Save"),c.Ob(),c.Ob(),c.Ob(),c.Lb(15,"div",6),c.Pb(16,"div",7),c.Pb(17,"div",8),c.Pb(18,"div",9),c.Pb(19,"label",10),c.zc(20,"Code"),c.Ob(),c.Pb(21,"div",11),c.Pb(22,"input",12),c.ac("ngModelChange",(function(e){return o._obj.userid=e})),c.Ob(),c.Ob(),c.Ob(),c.Pb(23,"div",9),c.Pb(24,"label",13),c.zc(25,"Name"),c.Ob(),c.Pb(26,"div",11),c.Pb(27,"input",14),c.ac("ngModelChange",(function(e){return o._obj.username=e})),c.Ob(),c.Ob(),c.Ob(),c.Pb(28,"div",9),c.Pb(29,"label",15),c.zc(30,"Password"),c.Ob(),c.Pb(31,"div",11),c.Pb(32,"div",16),c.Pb(33,"input",17),c.ac("ngModelChange",(function(e){return o._obj.password=e})),c.Ob(),c.Pb(34,"div",18),c.Pb(35,"span",19),c.ac("click",(function(){return o.toggleShow("psw")})),c.Lb(36,"i",20),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(37,"div",9),c.Pb(38,"label",21),c.zc(39,"Confirm Password"),c.Ob(),c.Pb(40,"div",11),c.Pb(41,"div",16),c.Pb(42,"input",22),c.ac("ngModelChange",(function(e){return o._confirmData.confirmpassword=e})),c.Ob(),c.Pb(43,"div",18),c.Pb(44,"span",19),c.ac("click",(function(){return o.toggleShow("cpsw")})),c.Lb(45,"i",20),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(46,"div",9),c.Pb(47,"label",23),c.zc(48,"Passcode"),c.Ob(),c.Pb(49,"div",11),c.Pb(50,"div",16),c.Pb(51,"input",24),c.ac("ngModelChange",(function(e){return o._obj.passcode=e})),c.Ob(),c.Pb(52,"div",18),c.Pb(53,"span",19),c.ac("click",(function(){return o.toggleShow("psc")})),c.Lb(54,"i",20),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(55,"div",9),c.Pb(56,"label",25),c.zc(57,"Confirm Passcode"),c.Ob(),c.Pb(58,"div",11),c.Pb(59,"div",16),c.Pb(60,"input",26),c.ac("ngModelChange",(function(e){return o._confirmData.confirmpasscode=e})),c.Ob(),c.Pb(61,"div",18),c.Pb(62,"span",19),c.ac("click",(function(){return o.toggleShow("cpsc")})),c.Lb(63,"i",20),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Pb(64,"div",9),c.Pb(65,"label",27),c.zc(66,"Phone"),c.Ob(),c.Pb(67,"div",11),c.Pb(68,"input",28),c.ac("ngModelChange",(function(e){return o._obj.phone=e})),c.Ob(),c.Ob(),c.Ob(),c.Pb(69,"div",9),c.Pb(70,"label",27),c.zc(71,"Email"),c.Ob(),c.Pb(72,"div",11),c.Pb(73,"input",29),c.ac("ngModelChange",(function(e){return o._obj.email=e})),c.Ob(),c.Ob(),c.Ob(),c.Pb(74,"div",9),c.Pb(75,"label",30),c.zc(76,"User Type"),c.Ob(),c.Pb(77,"div",11),c.Pb(78,"select",31),c.ac("ngModelChange",(function(e){return o._obj.userrole=e})),c.xc(79,m,2,2,"option",32),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob()),2&e&&(c.xb(22),c.ic("ngModel",o._obj.userid)("ngModelOptions",c.lc(27,u)),c.xb(5),c.ic("ngModel",o._obj.username)("ngModelOptions",c.lc(28,u)),c.xb(6),c.ic("type",o.show.psw?"text":"password")("ngModel",o._obj.password)("ngModelOptions",c.lc(29,u)),c.xb(3),c.ic("ngClass",o.show.psw?"fa fa-eye":"fa fa-eye-slash"),c.xb(6),c.ic("type",o.show.cpsw?"text":"password")("ngModel",o._confirmData.confirmpassword)("ngModelOptions",c.lc(30,u)),c.xb(3),c.ic("ngClass",o.show.cpsw?"fa fa-eye":"fa fa-eye-slash"),c.xb(6),c.ic("type",o.show.psc?"text":"password")("ngModel",o._obj.passcode)("ngModelOptions",c.lc(31,u)),c.xb(3),c.ic("ngClass",o.show.psc?"fa fa-eye":"fa fa-eye-slash"),c.xb(6),c.ic("type",o.show.cpsc?"text":"password")("ngModel",o._confirmData.confirmpasscode)("ngModelOptions",c.lc(32,u)),c.xb(3),c.ic("ngClass",o.show.cpsc?"fa fa-eye":"fa fa-eye-slash"),c.xb(5),c.ic("ngModel",o._obj.phone)("ngModelOptions",c.lc(33,u)),c.xb(5),c.ic("ngModel",o._obj.email)("ngModelOptions",c.lc(34,u)),c.xb(5),c.ic("ngModel",o._obj.userrole)("ngModelOptions",c.lc(35,u)),c.xb(1),c.ic("ngForOf",o._typelist))},directives:[n.o,n.f,n.g,n.a,n.e,n.h,s.k,n.m,s.l,n.i,n.n],styles:["legend[_ngcontent-%COMP%]{width:100%;font-size:21px;line-height:inherit;padding:5px 0;border-bottom:1px solid #3a3939}.card-header[_ngcontent-%COMP%]{padding:10px 0 0;background-color:#fff;margin-bottom:0}.card[_ngcontent-%COMP%]{padding:5px 10px 0}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}"]}),e})();var O=t("sYmb");const P=[{path:"",component:g},{path:"user-detail",component:f},{path:"user-detail/:id",component:f}];let w=(()=>{class e{}return e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({factory:function(o){return new(o||e)},imports:[[s.b,n.b,n.l,i.i,i.l,a.a,O.b,r.e.forChild(P)]]}),e})()}}]);