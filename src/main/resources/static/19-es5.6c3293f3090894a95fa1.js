(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{gVKy:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class e{}var o=u("9AJC"),s=u("pMnS"),i=u("s7LF"),a=u("SVse"),r=u("G0yt"),c=u("o+T9"),b=u("mNYA");class d{constructor(l,n,u,t,e,o,s,i){this.modalService=l,this._router=n,this.route=u,this.http=t,this.dataService=e,this.datepipe=o,this.rds=s,this.msgService=i,this._util=new b.a,this.bookList=[],this.memberList=[],this.itemList=[],this.searchString="",this._searchCode="",this.totalCount=10,this.currentPage=1,this.pageSize=10,this._popType=1,this.handleBtn={search:!0,save:!0,add:!0,rent:!0,void:!1,qty:!0,delete:!0},this.hdr=this.defaultHdr(),setTimeout(()=>{this.viewMe.nativeElement.focus()},1e3)}ngOnInit(){this.route.params.subscribe(l=>{let n=l.id;"0"!=n&&null!=n&&""!=n?this.getReadBySyskey(n):this.hdr=this.defaultHdr()})}getReadBySyskey(l){let n={systemkey:l,currentpage:1,pagesize:10};console.log("Param : ",n),this.http.doPost(this.dataService.getApiUrl()+"/rent/readbyRentbookSyskey",n).subscribe(l=>{console.log(this.dataService.getApiUrl()+"/rent/readbyRentbookSyskey",l),this.hdr.systemkey=l.systemkey,this.hdr.refno=l.refno,this.hdr.docdate=this._util.changeStringtoDateDDMMYYYY(l.docdate),this.hdr.returndate=this._util.changeStringtoDateDDMMYYYY(l.returndate),this.hdr.membersyskey=l.membersyskey,this.hdr.membername=l.membername,this.hdr.status=l.status,this.hdr.remark=l.remark,this.itemList=l.rentalDetailInfoList,this.handleStatus(this.hdr.status)})}goList(){this._router.navigate(["/bookrequest/bookrequest-list"])}goNew(){this.hdr=this.defaultHdr();let l=new Date;l.setDate(l.getDate()+3),this.hdr.docdate=this.datepipe.transform(new Date,"dd/MM/yyyy"),this.hdr.returndate=this.datepipe.transform(l,"dd/MM/yyyy"),this.itemList=[],this.handleStatus(this.hdr.status)}goSave(){if(null!=this.hdr.membersyskey&&"0"!=this.hdr.membersyskey){if(this.hdr.status==this._util.SAVE_STATUS)if(this.itemList.length>0){let l=this.dataService._apiurl+"/rent/save",n=this.getPrepareParam();this.saveData(l,n)}else this.showMessage("warning","Please add book!")}else this.showMessage("warning","Invalid member!")}goRent(){if(null!=this.hdr.membersyskey&&"0"!=this.hdr.membersyskey){if(this.hdr.status==this._util.SAVE_STATUS)if(this.itemList.length>0){let l=this.dataService._apiurl+"/rent/save",n=this.getPrepareParam();n.status="1",this.saveData(l,n)}else this.showMessage("warning","Please add book!")}else this.showMessage("warning","Invalid member!")}saveData(l,n){this.http.doPost(l,n).subscribe(l=>{this.showMessage("success","Save Successfully!"),this.hdr.systemkey=l.list[0].systemkey,this.hdr.refno=l.list[0].refno,this.hdr.membersyskey=l.list[0].membersyskey,this.hdr.status=l.list[0].status,this.hdr.remark=l.list[0].remark,this.hdr.membercode=this.rds.getMemberCode(l.list[0].membersyskey),this.hdr.membername=this.rds.getMemberName(l.list[0].membersyskey),this.hdr.docdate=this._util.changeStringtoDateDDMMYYYY(l.list[0].docdate),this.hdr.returndate=this._util.changeStringtoDateDDMMYYYY(l.list[0].returndate),this.handleStatus(this.hdr.status)},l=>{console.error(l),this.showMessage("warning","Server Error!")})}getPrepareParam(){let l={systemkey:this.hdr.systemkey,refno:this.hdr.refno,docdate:this._util.changeDatetoStringYYYYMMDDD(this.hdr.docdate),duedate:this._util.changeDatetoStringYYYYMMDDD(this.hdr.returndate),returndate:this._util.changeDatetoStringYYYYMMDDD(this.hdr.returndate),membersyskey:this.hdr.membersyskey,membercode:this.hdr.membercode,status:"0",userid:"0",username:"0",remark:this.hdr.remark,rentalDetailInfoList:[]};for(let n of this.itemList)l.rentalDetailInfoList.push({systemkey:"0",parentsystemkey:"0",bookcode:n.bookcode,bookname:n.bookname,booksystemkey:n.booksystemkey,authorname:n.authorname,authorsystemkey:n.authorsystemkey,quantity:n.quantity});return l}goDelete(){let l={systemkey:this.hdr.systemkey,currentpage:1,pagesize:10};console.log("Param : ",l),"0"!=this.hdr.systemkey&&this.hdr.status==this._util.POST_STATUS&&this.http.doPost(this.dataService.getApiUrl()+"/rent/voidRent",l).subscribe(l=>{console.log("R : ",l),this.goNew()})}goMember(l){this.hdr.status==this._util.SAVE_STATUS&&(this._popType=2,this.currentPage=1,this.searchMember(""),this.memberModal=this.modalService.open(l,{size:"xl",backdrop:"static",keyboard:!1}),this.memberModal.result.then(l=>{console.log("add member",l),setTimeout(()=>{this.viewMe.nativeElement.focus()},300),null!=l&&(this.hdr.membersyskey=l.systemkey,this.hdr.membercode=l.code,this.hdr.membername=l.name,setTimeout(()=>{this._searchCode=""},1e3))},l=>{}))}searchMember(l){let n={};n=isNaN(l)?{name:l,currentpage:this.currentPage,pagesize:this.pageSize}:{code:l,currentpage:this.currentPage,pagesize:this.pageSize},this.http.doPost(this.dataService._apiurl+"/member/all",n).subscribe(l=>{this.memberList=l.list,this.totalCount=l.totalcount})}modalBookSearchTerm(l){let n={};n=isNaN(l)?{name:l,currentpage:this.currentPage,pagesize:this.pageSize}:{code:l,currentpage:this.currentPage,pagesize:this.pageSize},this.http.doPost(this.dataService._apiurl+"/book/all",n).subscribe(l=>{this.bookList=l.list,this.totalCount=l.totalcount})}searchItem(l){this.http.doPost(this.dataService._apiurl+"/book/all",{code:l,currentpage:this.currentPage,pagesize:this.pageSize}).subscribe(l=>{this._searchCode="";let n=l.list[0];if(n.qty=1,null==this.itemList.filter((function(l){return l.bookcode==n.code}))[0]){let l={bookcode:n.code,bookname:n.name,booksystemkey:n.systemkey,authorname:this.rds.getAuthorName(n.author),authorsystemkey:n.author,quantity:n.qty,booktype:n.booktype};this.itemList.push(l)}})}removeItem(l){console.log("index ",l),this.hdr.status==this._util.SAVE_STATUS&&this.itemList.splice(l,1)}addItem(l){setTimeout(()=>{this.viewMe.nativeElement.focus()},300),1==this._popType?this.modal.close(l):this.memberModal.close(l)}openXl(l){this.hdr.status==this._util.SAVE_STATUS&&(this._popType=1,this.currentPage=1,this.modalBookSearchTerm(""),this.modal=this.modalService.open(l,{size:"xl",backdrop:"static",keyboard:!1}),this.modal.result.then(l=>{if(console.log("add book ",l),l){l.qty=1;let n={bookcode:l.code,bookname:l.name,booksystemkey:l.systemkey,authorname:this.rds.getAuthorName(l.author),authorsystemkey:l.author,quantity:l.qty,booktype:l.booktype};this.itemList.push(n)}},l=>{}))}loadPage(l){this.currentPage=l,1==this._popType?this.modalBookSearchTerm(this.searchString):this.searchMember(this.searchString)}showMessage(l,n){this.msgService.sendMessage({t1:"alert",t2:l,t3:n})}defaultHdr(){return{systemkey:"0",refno:"",membersyskey:"0",membercode:"",membername:"",totalqty:"12",docdate:this._util.getTodayStringDate(),returndate:this._util.getTodayReturnDate(),status:"0",remark:""}}handleStatus(l){"0"==l?(this.handleBtn.save=!0,this.handleBtn.rent=!0,this.handleBtn.void=!1,this.handleBtn.search=!0,this.handleBtn.add=!0,this.handleBtn.qty=!0,this.handleBtn.delete=!0):"1"==l&&(this.handleBtn.save=!1,this.handleBtn.rent=!1,this.handleBtn.void=!0,this.handleBtn.search=!1,this.handleBtn.add=!1,this.handleBtn.qty=!1,this.handleBtn.delete=!1)}}var g=u("iInd"),h=u("8vjg"),p=u("J8x5"),m=u("g54X"),C=u("E4M5"),y=t.ob({encapsulation:0,styles:[[".table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom;background-color:#3d0af5;color:#fff;border:2px solid #dee2e6;border-left:none;white-space:nowrap;padding:5px;font-size:14px!important;text-align:center}.fixbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:0!important;padding-right:10px!important}.table-sm[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-sm[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:13px;font-weight:400}form[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{display:table;width:100%;table-layout:fixed}form[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{width:calc(100% - 1em)}form[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{display:block;overflow:auto;height:310px;width:100%}.wid-5[_ngcontent-%COMP%]{width:5%}.wid-10[_ngcontent-%COMP%]{width:10%}.wid-15[_ngcontent-%COMP%]{width:15%}.wid-20[_ngcontent-%COMP%]{width:20%}.wid-30[_ngcontent-%COMP%]{width:30%}.wid-25[_ngcontent-%COMP%]{width:25%}.wid-45[_ngcontent-%COMP%]{width:45%}.wid-4[_ngcontent-%COMP%]{width:4%}.wid-6[_ngcontent-%COMP%]{width:6%}.wid-8[_ngcontent-%COMP%]{width:8%}.wid-12[_ngcontent-%COMP%]{width:12%}.card[_ngcontent-%COMP%]{padding:5px 10px 0;margin-bottom:5px}.card-body[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1 auto;min-height:1px;padding:5px}.card-header[_ngcontent-%COMP%]{padding:5px 0 0;margin-bottom:0;background-color:#fff}.form-group[_ngcontent-%COMP%]{margin-bottom:.25rem}.table-sm[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:0}.table-sm[_ngcontent-%COMP%]   .fixbody[_ngcontent-%COMP%]   .form-control-sm[_ngcontent-%COMP%]{height:25px}.table-sm[_ngcontent-%COMP%]   .fixbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:0!important;padding-right:10px!important}.btn-sm-s[_ngcontent-%COMP%]{padding:0 10px;font-size:14px}.btn-outline-secondary[_ngcontent-%COMP%]{padding:4px 8px;font-size:14px;color:#868e96;background-color:transparent;background-image:none;border-color:#ced4da}.btn-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{min-width:65px;padding:5px 10px;font-size:14px}.modal-body[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]{height:260px;width:100%}.btn-outline-secondary.focus[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]:focus, .btn-outline-secondary[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-outline-secondary.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 2px rgba(0,123,255,.25)}.bg-color-1[_ngcontent-%COMP%]{background-color:#993299}.bg-color-2[_ngcontent-%COMP%], .bg-color-3[_ngcontent-%COMP%]{background-color:#ced4da}"]],data:{}});function f(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,21,"tr",[],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,1,"td",[["class","wid-5"],["scope","row"],["style","text-align: right;"]],null,null,null,null,null)),(l()(),t.Kb(2,null,["",""])),(l()(),t.qb(3,0,null,null,1,"td",[["class","wid-20"]],null,null,null,null,null)),(l()(),t.Kb(4,null,["",""])),(l()(),t.qb(5,0,null,null,1,"td",[["class","wid-35"]],null,null,null,null,null)),(l()(),t.Kb(6,null,["",""])),(l()(),t.qb(7,0,null,null,9,"td",[["class","wid-10"]],null,null,null,null,null)),(l()(),t.qb(8,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.qb(9,0,null,null,7,"input",[["class","form-control form-control-sm"],["placeholder",""],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var e=!0;return"input"===n&&(e=!1!==t.Cb(l,10)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,10).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,10)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,10)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.Cb(l,11).onChange(u.target.value)&&e),"input"===n&&(e=!1!==t.Cb(l,11).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,11).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(l.context.$implicit.quantity=u)&&e),e}),null,null)),t.pb(10,16384,null,0,i.c,[t.C,t.k,[2,i.a]],null,null),t.pb(11,16384,null,0,i.n,[t.C,t.k],null,null),t.Hb(1024,null,i.g,(function(l,n){return[l,n]}),[i.c,i.n]),t.pb(13,671744,null,0,i.l,[[2,i.b],[8,null],[8,null],[6,i.g]],{isDisabled:[0,"isDisabled"],model:[1,"model"],options:[2,"options"]},{update:"ngModelChange"}),t.Fb(14,{standalone:0}),t.Hb(2048,null,i.h,null,[i.l]),t.pb(16,16384,null,0,i.i,[[4,i.h]],null,null),(l()(),t.qb(17,0,null,null,1,"td",[["class","wid-25"]],null,null,null,null,null)),(l()(),t.Kb(18,null,["",""])),(l()(),t.qb(19,0,null,null,2,"td",[["class","wid-5"],["style","cursor: pointer;text-align: center"]],null,null,null,null,null)),(l()(),t.qb(20,0,null,null,1,"span",[["style","color: rgb(197, 6, 6);font-size: 18px;"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.removeItem(l.context.index)&&t),t}),null,null)),(l()(),t.qb(21,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-trash"]],null,null,null,null,null))],(function(l,n){var u=!n.component.handleBtn.qty,t=n.context.$implicit.quantity,e=l(n,14,0,!0);l(n,13,0,u,t,e)}),(function(l,n){var u=n.component;l(n,2,0,n.context.index+1),l(n,4,0,n.context.$implicit.bookcode),l(n,6,0,n.context.$implicit.bookname),l(n,9,0,t.Cb(n,16).ngClassUntouched,t.Cb(n,16).ngClassTouched,t.Cb(n,16).ngClassPristine,t.Cb(n,16).ngClassDirty,t.Cb(n,16).ngClassValid,t.Cb(n,16).ngClassInvalid,t.Cb(n,16).ngClassPending),l(n,18,0,u.rds.getAuthorName(n.context.$implicit.authorsystemkey))}))}function v(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Book List"]))],null,null)}function q(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,1,"h4",[["class","modal-title"],["id","modal-basic-title"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Member List"]))],null,null)}function k(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,12,"tr",[],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,2,"td",[["style","width: 10%;cursor: pointer;"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.addItem(l.context.$implicit)&&t),t}),null,null)),(l()(),t.Kb(3,null,["",""])),(l()(),t.qb(4,0,null,null,1,"td",[["style","width: 30%;"]],null,null,null,null,null)),(l()(),t.Kb(5,null,["",""])),(l()(),t.qb(6,0,null,null,1,"td",[["style","width: 25%;"]],null,null,null,null,null)),(l()(),t.Kb(7,null,["",""])),(l()(),t.qb(8,0,null,null,1,"td",[["style","width: 25%;"]],null,null,null,null,null)),(l()(),t.Kb(9,null,["",""])),(l()(),t.qb(10,0,null,null,2,"td",[["style","width: 10%; text-align: center;"]],null,null,null,null,null)),(l()(),t.qb(11,0,null,null,1,"button",[["class","btn btn-sm-s btn-outline-dark"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.addItem(l.context.$implicit)&&t),t}),null,null)),(l()(),t.Kb(-1,null,["Add"]))],null,(function(l,n){var u=n.component;l(n,3,0,n.context.$implicit.code),l(n,5,0,n.context.$implicit.name),l(n,7,0,u.rds.getAuthorName(n.context.$implicit.author)),l(n,9,0,u.rds.getCategoryName(n.context.$implicit.booktype))}))}function M(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,44,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,32,"div",[["class","col col-md-12 col-lg-12"]],null,null,null,null,null)),(l()(),t.qb(3,0,null,null,31,"div",[["class","card mb-3"]],null,null,null,null,null)),(l()(),t.qb(4,0,null,null,14,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.qb(5,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.qb(6,0,null,null,11,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.qb(7,0,null,null,10,"div",[["class","form-group input-group"]],null,null,null,null,null)),(l()(),t.qb(8,0,null,null,6,"input",[["class","form-control form-control-sm"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,o=l.component;return"input"===n&&(e=!1!==t.Cb(l,9)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,9).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,9)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,9)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(o.searchString=u)&&e),"keyup.enter"===n&&(e=!1!==o.modalBookSearchTerm(o.searchString)&&e),e}),null,null)),t.pb(9,16384,null,0,i.c,[t.C,t.k,[2,i.a]],null,null),t.Hb(1024,null,i.g,(function(l){return[l]}),[i.c]),t.pb(11,671744,null,0,i.l,[[8,null],[8,null],[8,null],[6,i.g]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t.Fb(12,{standalone:0}),t.Hb(2048,null,i.h,null,[i.l]),t.pb(14,16384,null,0,i.i,[[4,i.h]],null,null),(l()(),t.qb(15,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t.qb(16,0,null,null,1,"button",[["class","btn btn-primary btn-sm"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.modalBookSearchTerm(e.searchString)&&t),t}),null,null)),(l()(),t.qb(17,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(l()(),t.qb(18,0,null,null,0,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.qb(19,0,null,null,15,"table",[["class","table table-sm table-hover table-striped"]],null,null,null,null,null)),(l()(),t.qb(20,0,null,null,11,"thead",[],null,null,null,null,null)),(l()(),t.qb(21,0,null,null,10,"tr",[],null,null,null,null,null)),(l()(),t.qb(22,0,null,null,1,"th",[["style","width: 10%;"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Code"])),(l()(),t.qb(24,0,null,null,1,"th",[["style","width: 30%;"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Name"])),(l()(),t.qb(26,0,null,null,1,"th",[["style","width: 25%;"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Author"])),(l()(),t.qb(28,0,null,null,1,"th",[["style","width: 25%;"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Type"])),(l()(),t.qb(30,0,null,null,1,"th",[["style","width: 10%;"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["\xa0"])),(l()(),t.qb(32,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,k)),t.pb(34,278528,null,0,a.l,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.qb(35,0,null,null,9,"div",[["class","rows"]],null,null,null,null,null)),(l()(),t.qb(36,0,null,null,8,"div",[["class","col col-xl-12 col-lg-12"]],null,null,null,null,null)),(l()(),t.qb(37,0,null,null,7,"ngb-pagination",[["class","d-flex justify-content-end"],["role","navigation"],["size","sm"]],null,[[null,"pageChange"]],(function(l,n,u){var t=!0,e=l.component;return"pageChange"===n&&(t=!1!==e.loadPage(u)&&t),"pageChange"===n&&(t=!1!==(e.currentPage=u)&&t),t}),o.d,o.c)),t.pb(38,573440,null,6,r.K,[r.L],{boundaryLinks:[0,"boundaryLinks"],rotate:[1,"rotate"],collectionSize:[2,"collectionSize"],maxSize:[3,"maxSize"],page:[4,"page"],pageSize:[5,"pageSize"],size:[6,"size"]},{pageChange:"pageChange"}),t.Ib(603979776,2,{tplEllipsis:0}),t.Ib(603979776,3,{tplFirst:0}),t.Ib(603979776,4,{tplLast:0}),t.Ib(603979776,5,{tplNext:0}),t.Ib(603979776,6,{tplNumber:0}),t.Ib(603979776,7,{tplPrevious:0})],(function(l,n){var u=n.component,t=u.searchString,e=l(n,12,0,!0);l(n,11,0,t,e),l(n,34,0,u.bookList),l(n,38,0,!0,!0,u.totalCount,5,u.currentPage,u.pageSize,"sm")}),(function(l,n){l(n,8,0,t.Cb(n,14).ngClassUntouched,t.Cb(n,14).ngClassTouched,t.Cb(n,14).ngClassPristine,t.Cb(n,14).ngClassDirty,t.Cb(n,14).ngClassValid,t.Cb(n,14).ngClassInvalid,t.Cb(n,14).ngClassPending)}))}function _(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.Kb(2,null,["",""])),t.Gb(3,1),(l()(),t.qb(4,0,null,null,2,"td",[["style","cursor: pointer;"]],null,null,null,null,null)),(l()(),t.qb(5,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.addItem(l.context.$implicit)&&t),t}),null,null)),(l()(),t.Kb(6,null,["",""])),(l()(),t.qb(7,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Kb(8,null,["",""])),(l()(),t.qb(9,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.qb(10,0,null,null,1,"button",[["class","btn btn-sm-s btn-outline-dark"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.addItem(l.context.$implicit)&&t),t}),null,null)),(l()(),t.Kb(-1,null,["Add"]))],null,(function(l,n){var u=t.Lb(n,2,0,l(n,3,0,t.Cb(n.parent.parent.parent,0),n.context.$implicit.starteddate));l(n,2,0,u),l(n,6,0,n.context.$implicit.code),l(n,8,0,n.context.$implicit.name)}))}function P(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,42,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,31,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,30,"div",[["class","col col-md-12 col-lg-12"]],null,null,null,null,null)),(l()(),t.qb(3,0,null,null,29,"div",[["class","card mb-3"]],null,null,null,null,null)),(l()(),t.qb(4,0,null,null,14,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.qb(5,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.qb(6,0,null,null,11,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.qb(7,0,null,null,10,"div",[["class","form-group input-group"]],null,null,null,null,null)),(l()(),t.qb(8,0,null,null,6,"input",[["class","form-control form-control-sm"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,o=l.component;return"input"===n&&(e=!1!==t.Cb(l,9)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,9).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,9)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,9)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(o.searchString=u)&&e),"keyup.enter"===n&&(e=!1!==o.searchMember(o.searchString)&&e),e}),null,null)),t.pb(9,16384,null,0,i.c,[t.C,t.k,[2,i.a]],null,null),t.Hb(1024,null,i.g,(function(l){return[l]}),[i.c]),t.pb(11,671744,null,0,i.l,[[8,null],[8,null],[8,null],[6,i.g]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t.Fb(12,{standalone:0}),t.Hb(2048,null,i.h,null,[i.l]),t.pb(14,16384,null,0,i.i,[[4,i.h]],null,null),(l()(),t.qb(15,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t.qb(16,0,null,null,1,"button",[["class","btn btn-primary btn-sm"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.searchMember(e.searchString)&&t),t}),null,null)),(l()(),t.qb(17,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(l()(),t.qb(18,0,null,null,0,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.qb(19,0,null,null,13,"table",[["class","table table-sm table-hover table-striped"]],null,null,null,null,null)),(l()(),t.qb(20,0,null,null,9,"thead",[],null,null,null,null,null)),(l()(),t.qb(21,0,null,null,8,"tr",[],null,null,null,null,null)),(l()(),t.qb(22,0,null,null,1,"th",[["class","wid-15"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Date"])),(l()(),t.qb(24,0,null,null,1,"th",[["class","wid-25"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Code"])),(l()(),t.qb(26,0,null,null,1,"th",[["class","wid-45"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Name"])),(l()(),t.qb(28,0,null,null,1,"th",[["class","wid-15"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["\xa0"])),(l()(),t.qb(30,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,_)),t.pb(32,278528,null,0,a.l,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.qb(33,0,null,null,9,"div",[["class","rows"]],null,null,null,null,null)),(l()(),t.qb(34,0,null,null,8,"div",[["class","col col-xl-12 col-lg-12"]],null,null,null,null,null)),(l()(),t.qb(35,0,null,null,7,"ngb-pagination",[["class","d-flex justify-content-end"],["role","navigation"],["size","sm"]],null,[[null,"pageChange"]],(function(l,n,u){var t=!0,e=l.component;return"pageChange"===n&&(t=!1!==e.loadPage(u)&&t),"pageChange"===n&&(t=!1!==(e.currentPage=u)&&t),t}),o.d,o.c)),t.pb(36,573440,null,6,r.K,[r.L],{boundaryLinks:[0,"boundaryLinks"],rotate:[1,"rotate"],collectionSize:[2,"collectionSize"],maxSize:[3,"maxSize"],page:[4,"page"],pageSize:[5,"pageSize"],size:[6,"size"]},{pageChange:"pageChange"}),t.Ib(603979776,8,{tplEllipsis:0}),t.Ib(603979776,9,{tplFirst:0}),t.Ib(603979776,10,{tplLast:0}),t.Ib(603979776,11,{tplNext:0}),t.Ib(603979776,12,{tplNumber:0}),t.Ib(603979776,13,{tplPrevious:0})],(function(l,n){var u=n.component,t=u.searchString,e=l(n,12,0,!0);l(n,11,0,t,e),l(n,32,0,u.memberList),l(n,36,0,!0,!0,u.totalCount,10,u.currentPage,u.pageSize,"sm")}),(function(l,n){l(n,8,0,t.Cb(n,14).ngClassUntouched,t.Cb(n,14).ngClassTouched,t.Cb(n,14).ngClassPristine,t.Cb(n,14).ngClassDirty,t.Cb(n,14).ngClassValid,t.Cb(n,14).ngClassInvalid,t.Cb(n,14).ngClassPending)}))}function S(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,7,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,v)),t.pb(2,16384,null,0,a.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.fb(16777216,null,null,1,null,q)),t.pb(4,16384,null,0,a.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.qb(5,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.context.dismiss("Cross click")&&t),t}),null,null)),(l()(),t.qb(6,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["\xd7"])),(l()(),t.fb(16777216,null,null,1,null,M)),t.pb(9,16384,null,0,a.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.fb(16777216,null,null,1,null,P)),t.pb(11,16384,null,0,a.m,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.qb(12,0,null,null,0,"div",[["class","modal-footer"]],null,null,null,null,null))],(function(l,n){var u=n.component;l(n,2,0,1==u._popType),l(n,4,0,2==u._popType),l(n,9,0,1==u._popType),l(n,11,0,2==u._popType)}),null)}function x(l){return t.Mb(0,[t.Eb(0,c.a,[]),t.Ib(671088640,1,{viewMe:0}),(l()(),t.qb(2,0,null,null,128,"div",[["class","form"]],null,null,null,null,null)),(l()(),t.qb(3,0,null,null,2,"div",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.qb(4,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Book Request"])),(l()(),t.qb(6,0,null,null,85,"div",[["class","card"]],null,null,null,null,null)),(l()(),t.qb(7,0,null,null,68,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.qb(8,0,null,null,25,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.qb(9,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t.qb(10,0,null,null,1,"label",[["class","col-sm-4 col-form-label col-form-label-sm"],["for","formlabelref"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Ref No."])),(l()(),t.qb(12,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t.qb(13,0,null,null,5,"input",[["class","form-control form-control-sm"],["placeholder","Auto Ref."],["readonly",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,o=l.component;return"input"===n&&(e=!1!==t.Cb(l,14)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,14).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,14)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,14)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(o.hdr.refno=u)&&e),e}),null,null)),t.pb(14,16384,null,0,i.c,[t.C,t.k,[2,i.a]],null,null),t.Hb(1024,null,i.g,(function(l){return[l]}),[i.c]),t.pb(16,671744,null,0,i.l,[[8,null],[8,null],[8,null],[6,i.g]],{model:[0,"model"]},{update:"ngModelChange"}),t.Hb(2048,null,i.h,null,[i.l]),t.pb(18,16384,null,0,i.i,[[4,i.h]],null,null),(l()(),t.qb(19,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t.qb(20,0,null,null,1,"label",[["class","col-sm-4 col-form-label col-form-label-sm"],["for","formlabelcust"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Member"])),(l()(),t.qb(22,0,null,null,11,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t.qb(23,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.qb(24,0,null,null,6,"input",[["class","form-control form-control-sm"],["placeholder","Search"],["readonly",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,o=l.component;return"input"===n&&(e=!1!==t.Cb(l,25)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,25).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,25)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,25)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(o.hdr.membername=u)&&e),"keyup.enter"===n&&(e=!1!==o.searchMember(o.hdr.membername)&&e),e}),null,null)),t.pb(25,16384,null,0,i.c,[t.C,t.k,[2,i.a]],null,null),t.Hb(1024,null,i.g,(function(l){return[l]}),[i.c]),t.pb(27,671744,null,0,i.l,[[8,null],[8,null],[8,null],[6,i.g]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t.Fb(28,{standalone:0}),t.Hb(2048,null,i.h,null,[i.l]),t.pb(30,16384,null,0,i.i,[[4,i.h]],null,null),(l()(),t.qb(31,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t.qb(32,0,null,null,1,"button",[["class","btn btn-primary btn-sm"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.goMember(t.Cb(l,131))&&e),e}),null,null)),(l()(),t.qb(33,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(l()(),t.qb(34,0,null,null,25,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.qb(35,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t.qb(36,0,null,null,1,"label",[["class","col-sm-4 col-form-label col-form-label-sm"],["for","formlabeldate1"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Doc. Date"])),(l()(),t.qb(38,0,null,null,11,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t.qb(39,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.qb(40,0,null,null,6,"input",[["class","form-control form-control-sm"],["placeholder",""],["readonly",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,o=l.component;return"input"===n&&(e=!1!==t.Cb(l,41)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,41).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,41)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,41)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(o.hdr.docdate=u)&&e),e}),null,null)),t.pb(41,16384,null,0,i.c,[t.C,t.k,[2,i.a]],null,null),t.Hb(1024,null,i.g,(function(l){return[l]}),[i.c]),t.pb(43,671744,null,0,i.l,[[8,null],[8,null],[8,null],[6,i.g]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t.Fb(44,{standalone:0}),t.Hb(2048,null,i.h,null,[i.l]),t.pb(46,16384,null,0,i.i,[[4,i.h]],null,null),(l()(),t.qb(47,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t.qb(48,0,null,null,1,"button",[["class","btn btn-outline-secondary btn-sm"],["type","button"]],null,null,null,null,null)),(l()(),t.qb(49,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(l()(),t.qb(50,0,null,null,9,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t.qb(51,0,null,null,1,"label",[["class","col-sm-4 col-form-label col-form-label-sm"],["for","formlabelcode"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Remark"])),(l()(),t.qb(53,0,null,null,6,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t.qb(54,0,null,null,5,"textarea",[["class","form-control form-control-sm"],["style","height: 2.6rem;"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,o=l.component;return"input"===n&&(e=!1!==t.Cb(l,55)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,55).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,55)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,55)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(o.hdr.remark=u)&&e),e}),null,null)),t.pb(55,16384,null,0,i.c,[t.C,t.k,[2,i.a]],null,null),t.Hb(1024,null,i.g,(function(l){return[l]}),[i.c]),t.pb(57,671744,null,0,i.l,[[8,null],[8,null],[8,null],[6,i.g]],{model:[0,"model"]},{update:"ngModelChange"}),t.Hb(2048,null,i.h,null,[i.l]),t.pb(59,16384,null,0,i.i,[[4,i.h]],null,null),(l()(),t.qb(60,0,null,null,15,"div",[["class","col-md-4"]],null,null,null,null,null)),(l()(),t.qb(61,0,null,null,14,"div",[["class","form-group row"]],null,null,null,null,null)),(l()(),t.qb(62,0,null,null,1,"label",[["class","col-sm-4 col-form-label col-form-label-sm"],["for","formlabeldate2"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Return Date"])),(l()(),t.qb(64,0,null,null,11,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t.qb(65,0,null,null,10,"div",[["class","input-group"]],null,null,null,null,null)),(l()(),t.qb(66,0,null,null,6,"input",[["class","form-control form-control-sm"],["placeholder",""],["readonly",""],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,o=l.component;return"input"===n&&(e=!1!==t.Cb(l,67)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,67).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,67)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,67)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(o.hdr.returndate=u)&&e),e}),null,null)),t.pb(67,16384,null,0,i.c,[t.C,t.k,[2,i.a]],null,null),t.Hb(1024,null,i.g,(function(l){return[l]}),[i.c]),t.pb(69,671744,null,0,i.l,[[8,null],[8,null],[8,null],[6,i.g]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t.Fb(70,{standalone:0}),t.Hb(2048,null,i.h,null,[i.l]),t.pb(72,16384,null,0,i.i,[[4,i.h]],null,null),(l()(),t.qb(73,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t.qb(74,0,null,null,1,"button",[["class","btn btn-outline-secondary btn-sm"],["type","button"]],null,null,null,null,null)),(l()(),t.qb(75,0,null,null,0,"i",[["class","fa fa-calendar"]],null,null,null,null,null)),(l()(),t.qb(76,0,null,null,15,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.qb(77,0,null,null,14,"div",[["class","col col-md-12"],["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.qb(78,0,null,null,13,"div",[["class","mb-2"],["style","border-top: 1px solid #dedede;padding-top: 6px;"]],null,null,null,null,null)),(l()(),t.qb(79,0,null,null,12,"div",[["class","form-group btn-row"]],null,null,null,null,null)),(l()(),t.qb(80,0,null,null,1,"button",[["class","btn btn-primary btn-sm mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.openXl(t.Cb(l,131))&&e),e}),null,null)),(l()(),t.Kb(-1,null,["Add Book"])),(l()(),t.qb(82,0,null,null,1,"button",[["class","btn btn-primary btn-sm mr-2"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.goList()&&t),t}),null,null)),(l()(),t.Kb(-1,null,["List"])),(l()(),t.qb(84,0,null,null,1,"button",[["class","btn btn-primary btn-sm mr-2"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.goNew()&&t),t}),null,null)),(l()(),t.Kb(-1,null,["New"])),(l()(),t.qb(86,0,null,null,1,"button",[["class","btn btn-primary btn-sm mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.goSave()&&t),t}),null,null)),(l()(),t.Kb(-1,null,["Save"])),(l()(),t.qb(88,0,null,null,1,"button",[["class","btn btn-primary btn-sm mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.goRent()&&t),t}),null,null)),(l()(),t.Kb(-1,null,["Rent"])),(l()(),t.qb(90,0,null,null,1,"button",[["class","btn btn-danger btn-sm mr-2"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.goDelete()&&t),t}),null,null)),(l()(),t.Kb(-1,null,["Delete"])),(l()(),t.qb(92,0,null,null,38,"form",[["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var e=!0;return"submit"===n&&(e=!1!==t.Cb(l,94).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Cb(l,94).onReset()&&e),e}),null,null)),t.pb(93,16384,null,0,i.u,[],null,null),t.pb(94,4210688,null,0,i.k,[[8,null],[8,null]],null,null),t.Hb(2048,null,i.b,null,[i.k]),t.pb(96,16384,null,0,i.j,[[4,i.b]],null,null),(l()(),t.qb(97,0,null,null,33,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.qb(98,0,null,null,32,"div",[["class","col col-xl-12 col-lg-12"]],null,null,null,null,null)),(l()(),t.qb(99,0,null,null,31,"div",[["class","card mb-1"]],null,null,null,null,null)),(l()(),t.qb(100,0,null,null,13,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.qb(101,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.qb(102,0,null,null,11,"div",[["class","col-sm-8"]],null,null,null,null,null)),(l()(),t.qb(103,0,null,null,10,"div",[["class","form-group input-group"]],null,null,null,null,null)),(l()(),t.qb(104,0,[[1,0],["searchcode",1]],null,6,"input",[["class","form-control form-control-sm"],["id","formlbarcode"],["placeholder","code / barcode"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,o=l.component;return"input"===n&&(e=!1!==t.Cb(l,105)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,105).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,105)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,105)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(o._searchCode=u)&&e),"keyup.enter"===n&&(e=!1!==o.searchItem(o._searchCode)&&e),e}),null,null)),t.pb(105,16384,null,0,i.c,[t.C,t.k,[2,i.a]],null,null),t.Hb(1024,null,i.g,(function(l){return[l]}),[i.c]),t.pb(107,671744,null,0,i.l,[[2,i.b],[8,null],[8,null],[6,i.g]],{isDisabled:[0,"isDisabled"],model:[1,"model"],options:[2,"options"]},{update:"ngModelChange"}),t.Fb(108,{standalone:0}),t.Hb(2048,null,i.h,null,[i.l]),t.pb(110,16384,null,0,i.i,[[4,i.h]],null,null),(l()(),t.qb(111,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t.qb(112,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.openXl(t.Cb(l,131))&&e),e}),null,null)),(l()(),t.qb(113,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-barcode"],["style","font-size: 18px;"]],null,null,null,null,null)),(l()(),t.qb(114,0,null,null,16,"table",[["class","table table-sm table-hover table-striped"]],null,null,null,null,null)),(l()(),t.qb(115,0,null,null,12,"thead",[["class","col-md-12"]],null,null,null,null,null)),(l()(),t.qb(116,0,null,null,11,"tr",[],null,null,null,null,null)),(l()(),t.qb(117,0,null,null,1,"th",[["style","width: 5%"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["No."])),(l()(),t.qb(119,0,null,null,1,"th",[["style","width: 20%"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Code"])),(l()(),t.qb(121,0,null,null,1,"th",[["style","width: 35%"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Name"])),(l()(),t.qb(123,0,null,null,1,"th",[["style","width: 10%"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Qty"])),(l()(),t.qb(125,0,null,null,1,"th",[["style","width: 25%"]],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Author"])),(l()(),t.qb(127,0,null,null,0,"th",[["style","width: 5%"]],null,null,null,null,null)),(l()(),t.qb(128,0,null,null,2,"tbody",[["class","fixbody"]],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,f)),t.pb(130,278528,null,0,a.l,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.fb(0,[["content",2]],null,0,null,S))],(function(l,n){var u=n.component;l(n,16,0,u.hdr.refno);var t=u.hdr.membername,e=l(n,28,0,!0);l(n,27,0,t,e);var o=u.hdr.docdate,s=l(n,44,0,!0);l(n,43,0,o,s),l(n,57,0,u.hdr.remark);var i=u.hdr.returndate,a=l(n,70,0,!0);l(n,69,0,i,a);var r=!u.handleBtn.search,c=u._searchCode,b=l(n,108,0,!0);l(n,107,0,r,c,b),l(n,130,0,u.itemList)}),(function(l,n){var u=n.component;l(n,13,0,t.Cb(n,18).ngClassUntouched,t.Cb(n,18).ngClassTouched,t.Cb(n,18).ngClassPristine,t.Cb(n,18).ngClassDirty,t.Cb(n,18).ngClassValid,t.Cb(n,18).ngClassInvalid,t.Cb(n,18).ngClassPending),l(n,24,0,t.Cb(n,30).ngClassUntouched,t.Cb(n,30).ngClassTouched,t.Cb(n,30).ngClassPristine,t.Cb(n,30).ngClassDirty,t.Cb(n,30).ngClassValid,t.Cb(n,30).ngClassInvalid,t.Cb(n,30).ngClassPending),l(n,32,0,!u.handleBtn.search),l(n,40,0,t.Cb(n,46).ngClassUntouched,t.Cb(n,46).ngClassTouched,t.Cb(n,46).ngClassPristine,t.Cb(n,46).ngClassDirty,t.Cb(n,46).ngClassValid,t.Cb(n,46).ngClassInvalid,t.Cb(n,46).ngClassPending),l(n,54,0,t.Cb(n,59).ngClassUntouched,t.Cb(n,59).ngClassTouched,t.Cb(n,59).ngClassPristine,t.Cb(n,59).ngClassDirty,t.Cb(n,59).ngClassValid,t.Cb(n,59).ngClassInvalid,t.Cb(n,59).ngClassPending),l(n,66,0,t.Cb(n,72).ngClassUntouched,t.Cb(n,72).ngClassTouched,t.Cb(n,72).ngClassPristine,t.Cb(n,72).ngClassDirty,t.Cb(n,72).ngClassValid,t.Cb(n,72).ngClassInvalid,t.Cb(n,72).ngClassPending),l(n,80,0,!u.handleBtn.add),l(n,86,0,!u.handleBtn.save),l(n,88,0,!u.handleBtn.rent),l(n,90,0,!u.handleBtn.void),l(n,92,0,t.Cb(n,96).ngClassUntouched,t.Cb(n,96).ngClassTouched,t.Cb(n,96).ngClassPristine,t.Cb(n,96).ngClassDirty,t.Cb(n,96).ngClassValid,t.Cb(n,96).ngClassInvalid,t.Cb(n,96).ngClassPending),l(n,104,0,t.Cb(n,110).ngClassUntouched,t.Cb(n,110).ngClassTouched,t.Cb(n,110).ngClassPristine,t.Cb(n,110).ngClassDirty,t.Cb(n,110).ngClassValid,t.Cb(n,110).ngClassInvalid,t.Cb(n,110).ngClassPending),l(n,112,0,!u.handleBtn.search)}))}var w=t.mb("app-book-request-detail",d,(function(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,1,"app-book-request-detail",[],null,null,null,x,y)),t.pb(1,114688,null,0,d,[r.D,g.k,g.a,h.a,p.a,a.d,m.a,C.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]);class O{constructor(l,n,u,t){this._router=l,this.http=n,this.dataService=u,this.rds=t,this.bookRequestList=[],this.searchString="",this.totalCount=0,this.currentPage=1,this.pageSize=10}ngOnInit(){this.searchTerm("")}searchTerm(l){console.log("log",l),this.http.doPost(this.dataService._apiurl+"/rent/getrentlist",{code:l,currentpage:this.currentPage,pagesize:this.pageSize}).subscribe(l=>{console.log("--------------------: ",l),this.bookRequestList=l.list,this.totalCount=l.totalcount})}statusName(l){let n="";return null!=l&&("0"==l?n="Save":"1"==l?n="Rent":"2"==l?n="Void":"3"==l&&(n="Return")),n}loadPage(l){this.currentPage=l,this.searchTerm(this.searchString)}goDetail(){this._router.navigate(["/bookrequest"])}itemDetail(l){this._router.navigate(["/bookrequest/bookrequest-detail",l.systemkey])}}var D=t.ob({encapsulation:0,styles:[[".bg-style[_ngcontent-%COMP%]{background-color:#fff}.card-header[_ngcontent-%COMP%]{padding:10px 0 0;margin-bottom:0}.card[_ngcontent-%COMP%]{padding:5px 10px 0}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom;background-color:#3d0af5;color:#fff;border:2px solid #dee2e6;border-left:none;white-space:nowrap;padding:5px;font-size:14px!important;text-align:center}"]],data:{}});function K(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,17,"tr",[],null,null,null,null,null)),(l()(),t.qb(1,0,null,null,1,"td",[["scope","row"]],null,null,null,null,null)),(l()(),t.Kb(2,null,["",""])),(l()(),t.qb(3,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.Kb(4,null,["",""])),t.Gb(5,1),(l()(),t.qb(6,0,null,null,1,"td",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.Kb(7,null,["",""])),(l()(),t.qb(8,0,null,null,1,"td",[],null,null,null,null,null)),(l()(),t.Kb(9,null,["",""])),(l()(),t.qb(10,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.Kb(11,null,["",""])),t.Gb(12,1),(l()(),t.qb(13,0,null,null,1,"td",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.Kb(14,null,["",""])),(l()(),t.qb(15,0,null,null,2,"td",[["style","text-align: center;"]],null,null,null,null,null)),(l()(),t.qb(16,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.itemDetail(l.context.$implicit)&&t),t}),null,null)),(l()(),t.qb(17,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-arrow-circle-o-right"]],null,null,null,null,null))],null,(function(l,n){var u=n.component;l(n,2,0,n.context.index+1);var e=t.Lb(n,4,0,l(n,5,0,t.Cb(n.parent,0),n.context.$implicit.docdate));l(n,4,0,e),l(n,7,0,n.context.$implicit.refno),l(n,9,0,u.rds.getMemberName(n.context.$implicit.membersyskey));var o=t.Lb(n,11,0,l(n,12,0,t.Cb(n.parent,0),n.context.$implicit.returndate));l(n,11,0,o),l(n,14,0,u.statusName(n.context.$implicit.status))}))}function I(l){return t.Mb(0,[t.Eb(0,c.a,[]),(l()(),t.qb(1,0,null,null,53,"div",[["class","bg-style"]],null,null,null,null,null)),(l()(),t.qb(2,0,null,null,3,"div",[["class","row"],["style","margin: 0px;"]],null,null,null,null,null)),(l()(),t.qb(3,0,null,null,2,"div",[["class","col col-xl-6 col-lg-12"]],null,null,null,null,null)),(l()(),t.qb(4,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Book Request"])),(l()(),t.qb(6,0,null,null,38,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.qb(7,0,null,null,37,"div",[["class","col col-md-12 col-lg-12"]],null,null,null,null,null)),(l()(),t.qb(8,0,null,null,36,"div",[["class","card mb-3"],["style","min-height: 30rem;"]],null,null,null,null,null)),(l()(),t.qb(9,0,null,null,14,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.qb(10,0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.qb(11,0,null,null,11,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.qb(12,0,null,null,10,"div",[["class","form-group input-group"]],null,null,null,null,null)),(l()(),t.qb(13,0,null,null,6,"input",[["class","form-control form-control-sm"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,o=l.component;return"input"===n&&(e=!1!==t.Cb(l,14)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Cb(l,14).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Cb(l,14)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Cb(l,14)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(o.searchString=u)&&e),"keyup.enter"===n&&(e=!1!==o.searchTerm(o.searchString)&&e),e}),null,null)),t.pb(14,16384,null,0,i.c,[t.C,t.k,[2,i.a]],null,null),t.Hb(1024,null,i.g,(function(l){return[l]}),[i.c]),t.pb(16,671744,null,0,i.l,[[8,null],[8,null],[8,null],[6,i.g]],{model:[0,"model"],options:[1,"options"]},{update:"ngModelChange"}),t.Fb(17,{standalone:0}),t.Hb(2048,null,i.h,null,[i.l]),t.pb(19,16384,null,0,i.i,[[4,i.h]],null,null),(l()(),t.qb(20,0,null,null,2,"div",[["class","input-group-append"]],null,null,null,null,null)),(l()(),t.qb(21,0,null,null,1,"button",[["class","btn btn-primary btn-sm"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0,e=l.component;return"click"===n&&(t=!1!==e.searchTerm(e.searchString)&&t),t}),null,null)),(l()(),t.qb(22,0,null,null,0,"i",[["class","fa fa-search"]],null,null,null,null,null)),(l()(),t.qb(23,0,null,null,0,"div",[["class","col-md-6"]],null,null,null,null,null)),(l()(),t.qb(24,0,null,null,20,"table",[["class","table table-sm table-hover table-striped"]],null,null,null,null,null)),(l()(),t.qb(25,0,null,null,16,"thead",[],null,null,null,null,null)),(l()(),t.qb(26,0,null,null,15,"tr",[],null,null,null,null,null)),(l()(),t.qb(27,0,null,null,2,"th",[],null,null,null,null,null)),(l()(),t.qb(28,0,null,null,1,"span",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.goDetail()&&t),t}),null,null)),(l()(),t.qb(29,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-plus-circle"],["style","font-size: 18px;"]],null,null,null,null,null)),(l()(),t.qb(30,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Date"])),(l()(),t.qb(32,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Ref no."])),(l()(),t.qb(34,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Member"])),(l()(),t.qb(36,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Return Date"])),(l()(),t.qb(38,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Kb(-1,null,["Status"])),(l()(),t.qb(40,0,null,null,1,"th",[],null,null,null,null,null)),(l()(),t.Kb(-1,null,["\xa0"])),(l()(),t.qb(42,0,null,null,2,"tbody",[],null,null,null,null,null)),(l()(),t.fb(16777216,null,null,1,null,K)),t.pb(44,278528,null,0,a.l,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.qb(45,0,null,null,9,"div",[["class","rows"]],null,null,null,null,null)),(l()(),t.qb(46,0,null,null,8,"div",[["class","col col-xl-12 col-lg-12"]],null,null,null,null,null)),(l()(),t.qb(47,0,null,null,7,"ngb-pagination",[["class","d-flex justify-content-end"],["role","navigation"],["size","sm"]],null,[[null,"pageChange"]],(function(l,n,u){var t=!0,e=l.component;return"pageChange"===n&&(t=!1!==e.loadPage(u)&&t),"pageChange"===n&&(t=!1!==(e.currentPage=u)&&t),t}),o.d,o.c)),t.pb(48,573440,null,6,r.K,[r.L],{boundaryLinks:[0,"boundaryLinks"],rotate:[1,"rotate"],collectionSize:[2,"collectionSize"],maxSize:[3,"maxSize"],page:[4,"page"],pageSize:[5,"pageSize"],size:[6,"size"]},{pageChange:"pageChange"}),t.Ib(603979776,1,{tplEllipsis:0}),t.Ib(603979776,2,{tplFirst:0}),t.Ib(603979776,3,{tplLast:0}),t.Ib(603979776,4,{tplNext:0}),t.Ib(603979776,5,{tplNumber:0}),t.Ib(603979776,6,{tplPrevious:0})],(function(l,n){var u=n.component,t=u.searchString,e=l(n,17,0,!0);l(n,16,0,t,e),l(n,44,0,u.bookRequestList),l(n,48,0,!0,!0,u.totalCount,10,u.currentPage,u.pageSize,"sm")}),(function(l,n){l(n,13,0,t.Cb(n,19).ngClassUntouched,t.Cb(n,19).ngClassTouched,t.Cb(n,19).ngClassPristine,t.Cb(n,19).ngClassDirty,t.Cb(n,19).ngClassValid,t.Cb(n,19).ngClassInvalid,t.Cb(n,19).ngClassPending)}))}var T=t.mb("app-book-request-list",O,(function(l){return t.Mb(0,[(l()(),t.qb(0,0,null,null,1,"app-book-request-list",[],null,null,null,I,D)),t.pb(1,114688,null,0,O,[g.k,h.a,p.a,m.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),A=u("Sy8H");class z{}u.d(n,"RequestModuleNgFactory",(function(){return L}));var L=t.nb(e,[],(function(l){return t.zb([t.Ab(512,t.j,t.Y,[[8,[o.a,o.b,o.h,o.i,o.e,o.f,o.g,s.a,w,T]],[3,t.j],t.w]),t.Ab(4608,a.o,a.n,[t.t,[2,a.D]]),t.Ab(4608,i.s,i.s,[]),t.Ab(4608,i.d,i.d,[]),t.Ab(4608,r.D,r.D,[t.j,t.q,r.sb,r.E]),t.Ab(1073742336,a.b,a.b,[]),t.Ab(1073742336,i.r,i.r,[]),t.Ab(1073742336,i.e,i.e,[]),t.Ab(1073742336,i.p,i.p,[]),t.Ab(1073742336,r.c,r.c,[]),t.Ab(1073742336,r.f,r.f,[]),t.Ab(1073742336,r.g,r.g,[]),t.Ab(1073742336,r.k,r.k,[]),t.Ab(1073742336,r.l,r.l,[]),t.Ab(1073742336,r.s,r.s,[]),t.Ab(1073742336,r.y,r.y,[]),t.Ab(1073742336,r.F,r.F,[]),t.Ab(1073742336,r.H,r.H,[]),t.Ab(1073742336,r.M,r.M,[]),t.Ab(1073742336,r.P,r.P,[]),t.Ab(1073742336,r.S,r.S,[]),t.Ab(1073742336,r.V,r.V,[]),t.Ab(1073742336,r.Y,r.Y,[]),t.Ab(1073742336,r.db,r.db,[]),t.Ab(1073742336,r.gb,r.gb,[]),t.Ab(1073742336,r.hb,r.hb,[]),t.Ab(1073742336,r.ib,r.ib,[]),t.Ab(1073742336,r.G,r.G,[]),t.Ab(1073742336,A.a,A.a,[]),t.Ab(1073742336,g.o,g.o,[[2,g.t],[2,g.k]]),t.Ab(1073742336,z,z,[]),t.Ab(1073742336,e,e,[]),t.Ab(1024,g.i,(function(){return[[{path:"",component:d},{path:"bookrequest-list",component:O},{path:"bookrequest-detail/:id",component:d}]]}),[])])}))}}]);