!function(){function e(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function o(e,o){for(var n=0;n<o.length;n++){var t=o[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function n(e,n,t){return n&&o(e.prototype,n),t&&o(e,t),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"7wo0":function(o,t,i){"use strict";i.r(t),i.d(t,"SettingsModule",(function(){return x}));var s=i("ofXK"),r=i("3Pt+"),a=i("1kSV"),c=i("tyNb"),l=i("Sy8H"),b=i("fXoL"),d=i("8vjg"),p=i("J8x5");function g(e,o){if(1&e){var n=b.Qb();b.Pb(0,"tr"),b.Pb(1,"td",20),b.zc(2),b.Ob(),b.Pb(3,"td"),b.zc(4),b.Ob(),b.Pb(5,"td"),b.zc(6),b.Ob(),b.Pb(7,"td"),b.zc(8),b.Ob(),b.Pb(9,"td"),b.zc(10),b.Ob(),b.Pb(11,"td"),b.zc(12),b.Ob(),b.Pb(13,"td",21),b.Pb(14,"span",14),b.ac("click",(function(){b.rc(n);var e=o.$implicit;return b.cc().itemDetail(e)})),b.Lb(15,"i",22),b.Ob(),b.Ob(),b.Ob()}if(2&e){var t=o.$implicit,i=o.index;b.xb(2),b.Ac(i+1),b.xb(2),b.Ac(t.userid),b.xb(2),b.Ac(t.username),b.xb(2),b.Ac(t.userrole),b.xb(2),b.Ac(t.phone),b.xb(2),b.Ac(t.email)}}var u,f=function(){return{standalone:!0}},h=((u=function(){function o(n,t,i){e(this,o),this._router=n,this.http=t,this.dataService=i,this.itemList=[],this.searchString="",this.totalCount=10,this.currentPage=1,this.pageSize=10,this.searchTerm("")}return n(o,[{key:"ngOnInit",value:function(){this.dataService.isLoginUser()||this._router.navigate(["/login"])}},{key:"searchChange",value:function(e){""==e&&this.searchTerm("")}},{key:"searchTerm",value:function(e){var o,n=this;o=isNaN(e)?{name:e,currentpage:this.currentPage,pagesize:this.pageSize}:{code:e,currentpage:this.currentPage,pagesize:this.pageSize},this.http.doPost(this.dataService._apiurl+"/user/findByCriteria",o).subscribe((function(e){console.log("result: ",JSON.stringify(e)),n.itemList=e.list,n.totalCount=e.totalcount}))}},{key:"loadPage",value:function(e){this.currentPage=e,this.searchTerm(this.searchString)}},{key:"addItem",value:function(){this._router.navigate(["/settings/user-detail"])}},{key:"itemDetail",value:function(e){this._router.navigate(["/settings/user-detail",e.systemkey])}}]),o}()).\u0275fac=function(e){return new(e||u)(b.Kb(c.b),b.Kb(d.a),b.Kb(p.a))},u.\u0275cmp=b.Eb({type:u,selectors:[["app-user"]],decls:40,vars:10,consts:[[1,"bg-style"],[1,"row",2,"margin","0px"],[1,"col","col-xl-6","col-lg-12"],[1,"row"],[1,"col","col-md-12","col-lg-12"],[1,"card","mb-3",2,"min-height","30rem"],[1,"card-header"],[1,"col-md-6"],[1,"form-group","input-group"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange","keyup.enter"],[1,"input-group-append"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-search"],[1,"table","table-sm","table-hover","table-striped"],[3,"click"],["aria-hidden","true",1,"fa","fa-plus-circle",2,"font-size","18px"],[4,"ngFor","ngForOf"],[1,"rows"],[1,"col","col-xl-12","col-lg-12"],["size","sm",1,"d-flex","justify-content-end",3,"collectionSize","page","pageSize","maxSize","rotate","boundaryLinks","pageChange"],["scope","row"],[2,"text-align","center"],["aria-hidden","true",1,"fa","fa-arrow-circle-o-right"]],template:function(e,o){1&e&&(b.Pb(0,"div",0),b.Pb(1,"div",1),b.Pb(2,"div",2),b.Pb(3,"h2"),b.zc(4,"User"),b.Ob(),b.Ob(),b.Ob(),b.Pb(5,"div",3),b.Pb(6,"div",4),b.Pb(7,"div",5),b.Pb(8,"div",6),b.Pb(9,"div",3),b.Pb(10,"div",7),b.Pb(11,"div",8),b.Pb(12,"input",9),b.ac("ngModelChange",(function(e){return o.searchString=e}))("ngModelChange",(function(e){return o.searchChange(e)}))("keyup.enter",(function(){return o.searchTerm(o.searchString)})),b.Ob(),b.Pb(13,"div",10),b.Pb(14,"button",11),b.ac("click",(function(){return o.searchTerm(o.searchString)})),b.Lb(15,"i",12),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Lb(16,"div",7),b.Ob(),b.Ob(),b.Pb(17,"table",13),b.Pb(18,"thead"),b.Pb(19,"tr"),b.Pb(20,"th"),b.Pb(21,"span",14),b.ac("click",(function(){return o.addItem()})),b.Lb(22,"i",15),b.Ob(),b.Ob(),b.Pb(23,"th"),b.zc(24,"Code"),b.Ob(),b.Pb(25,"th"),b.zc(26,"Name"),b.Ob(),b.Pb(27,"th"),b.zc(28,"Role"),b.Ob(),b.Pb(29,"th"),b.zc(30,"Phone"),b.Ob(),b.Pb(31,"th"),b.zc(32,"E-Mail"),b.Ob(),b.Pb(33,"th"),b.zc(34,"\xa0"),b.Ob(),b.Ob(),b.Ob(),b.Pb(35,"tbody"),b.xc(36,g,16,6,"tr",16),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(37,"div",17),b.Pb(38,"div",18),b.Pb(39,"ngb-pagination",19),b.ac("pageChange",(function(e){return o.loadPage(e)}))("pageChange",(function(e){return o.currentPage=e})),b.Ob(),b.Ob(),b.Ob(),b.Ob()),2&e&&(b.xb(12),b.ic("ngModel",o.searchString)("ngModelOptions",b.lc(9,f)),b.xb(24),b.ic("ngForOf",o.itemList),b.xb(3),b.ic("collectionSize",o.totalCount)("page",o.currentPage)("pageSize",o.pageSize)("maxSize",5)("rotate",!0)("boundaryLinks",!0))},directives:[r.a,r.e,r.h,s.l,a.k],styles:[".bg-style[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]{background-color:#fff}.card-header[_ngcontent-%COMP%]{padding:10px 0 0;margin-bottom:0}.card[_ngcontent-%COMP%]{padding:5px 10px 0}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}.table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:bottom;background-color:#3d0af5;color:#fff;border:2px solid #dee2e6;border-left:none;white-space:nowrap;padding:5px;font-size:14px!important;text-align:center}"]}),u),m=i("E4M5");function O(e,o){if(1&e&&(b.Pb(0,"option",33),b.zc(1),b.Ob()),2&e){var n=o.$implicit;b.jc("value",n.rolekey),b.xb(1),b.Ac(n.name)}}var P,v,w=function(){return{standalone:!0}},M=((P=function(){function o(n,t,i,s,r){e(this,o),this._router=n,this.route=t,this.http=i,this.dataService=s,this.msgService=r,this._obj=this.getDefaultObj(),this.show={psw:!1,cpsw:!1,psc:!1,cpsc:!1},this._confirmData={confirmpassword:"",confirmpasscode:""},this._typelist=[{rolekey:"1",code:"admin",name:"Admin"},{rolekey:"2",code:"manager",name:"Manager"},{rolekey:"3",code:"supervisor",name:"Supervisor"},{rolekey:"4",code:"normaluser",name:"Normal User"}]}return n(o,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe((function(o){var n=o.id;"0"!=n&&null!=n&&""!=n?e.readByKey(n):e._obj=e.getDefaultObj()}))}},{key:"toggleShow",value:function(e){"psw"==e?this.show.psw=!this.show.psw:"cpsw"==e?this.show.cpsw=!this.show.cpsw:"psc"==e?this.show.psc=!this.show.psc:"cpsc"==e&&(this.show.cpsc=!this.show.cpsc)}},{key:"goList",value:function(){this._router.navigate(["/settings"])}},{key:"goNew",value:function(){this._obj=this.getDefaultObj(),this._confirmData.confirmpasscode=this._obj.passcode,this._confirmData.confirmpassword=this._obj.password}},{key:"readByKey",value:function(e){var o=this;this.http.doPost(this.dataService.getApiUrl()+"/user/findUser/",{systemkey:e}).subscribe((function(e){console.log("resss: ",e),o._obj.systemkey=e.productkey,o._obj.userid=e.userid,o._obj.username=e.username,o._obj.userrole=e.userrole,o._obj.phone=e.phone,o._obj.email=e.email,o._obj.password=e.password,o._obj.passcode=e.passcode,o._confirmData.confirmpasscode=e.passcode,o._confirmData.confirmpassword=e.password}))}},{key:"goSave",value:function(){var e=this;this.isValid()&&this.http.doPost(this.dataService.getApiUrl()+"/user/save",this._obj).subscribe((function(o){"SUCCESS"==o.message.toUpperCase()?(e.showMessage("success","Save Successfully!"),e.goNew()):"CODEEXIT"==o.message.toUpperCase()?e.showMessage("warning","Already Code Exsits!"):e.showMessage("warning","FAIL!")}))}},{key:"isValid",value:function(){return 0===this._obj.userid.trim().length||null==this._obj.userid?(this.showMessage("warning","Invalid UserId."),!1):0===this._obj.username.trim().length?(this.showMessage("warning","Invalid UserName."),!1):0===this._obj.password.trim().length?(this.showMessage("warning","Invalid Password."),!1):this._obj.password!=this._confirmData.confirmpassword?(this.showMessage("warning","Passwords Don't Match."),!1):this._obj.passcode==this._confirmData.confirmpasscode||(this.showMessage("warning","Passcode Don't Match."),!1)}},{key:"getDefaultObj",value:function(){return{systemkey:"0",userid:"",username:"",password:"",passcode:"",phone:"",email:"",userrole:"1"}}},{key:"showMessage",value:function(e,o){this.msgService.sendMessage({t1:"alert",t2:e,t3:o})}}]),o}()).\u0275fac=function(e){return new(e||P)(b.Kb(c.b),b.Kb(c.a),b.Kb(d.a),b.Kb(p.a),b.Kb(m.a))},P.\u0275cmp=b.Eb({type:P,selectors:[["app-user-detail"]],decls:80,vars:36,consts:[[1,"form"],[1,"row"],[1,"col-md-12"],[2,"float","left"],[1,"col","col-md-6",2,"text-align","center"],[1,"btn","btn-primary","btn-sm","btn-ws","mr-2",3,"click"],[1,"row",2,"margin-bottom","10px"],[1,"card"],[1,"col-md-6"],[1,"form-group","row"],["for","code",1,"col-sm-4","col-form-label","col-form-label-sm"],[1,"col-sm-8"],["type","text","id","code","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],["for","name",1,"col-sm-4","col-form-label","col-form-label-sm"],["type","text","id","name","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],["for","password",1,"col-sm-4","col-form-label","col-form-label-sm"],[1,"input-group","input-group-sm"],["id","password",1,"form-control","form-control-sm",3,"type","ngModel","ngModelOptions","ngModelChange"],[1,"input-group-append"],["id","pa",1,"input-group-text",3,"click"],[3,"ngClass"],["for","confirmpassword",1,"col-sm-4","col-form-label","col-form-label-sm"],["id","confirmpassword",1,"form-control","form-control-sm",3,"type","ngModel","ngModelOptions","ngModelChange"],["for","passcode",1,"col-sm-4","col-form-label","col-form-label-sm"],["id","passcode",1,"form-control","form-control-sm",3,"type","ngModel","ngModelOptions","ngModelChange"],["for","confirmpasscode",1,"col-sm-4","col-form-label","col-form-label-sm"],["id","confirmpasscode",1,"form-control","form-control-sm",3,"type","ngModel","ngModelOptions","ngModelChange"],["for","price",1,"col-sm-4","col-form-label","col-form-label-sm"],["type","text","id","phone","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],["type","text","id","email","placeholder","",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],["for","select1",1,"col-sm-4","col-form-label","col-form-label-sm"],["id","select1",1,"form-control","form-control-sm",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,o){1&e&&(b.Pb(0,"div",0),b.Pb(1,"form"),b.Pb(2,"legend"),b.Pb(3,"div",1),b.Pb(4,"div",2),b.Pb(5,"span",3),b.zc(6,"User Setup"),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(7,"div",1),b.Pb(8,"div",4),b.Pb(9,"button",5),b.ac("click",(function(){return o.goList()})),b.zc(10,"List"),b.Ob(),b.Pb(11,"button",5),b.ac("click",(function(){return o.goNew()})),b.zc(12,"New"),b.Ob(),b.Pb(13,"button",5),b.ac("click",(function(){return o.goSave()})),b.zc(14,"Save"),b.Ob(),b.Ob(),b.Ob(),b.Lb(15,"div",6),b.Pb(16,"div",7),b.Pb(17,"div",8),b.Pb(18,"div",9),b.Pb(19,"label",10),b.zc(20,"Code"),b.Ob(),b.Pb(21,"div",11),b.Pb(22,"input",12),b.ac("ngModelChange",(function(e){return o._obj.userid=e})),b.Ob(),b.Ob(),b.Ob(),b.Pb(23,"div",9),b.Pb(24,"label",13),b.zc(25,"Name"),b.Ob(),b.Pb(26,"div",11),b.Pb(27,"input",14),b.ac("ngModelChange",(function(e){return o._obj.username=e})),b.Ob(),b.Ob(),b.Ob(),b.Pb(28,"div",9),b.Pb(29,"label",15),b.zc(30,"Password"),b.Ob(),b.Pb(31,"div",11),b.Pb(32,"div",16),b.Pb(33,"input",17),b.ac("ngModelChange",(function(e){return o._obj.password=e})),b.Ob(),b.Pb(34,"div",18),b.Pb(35,"span",19),b.ac("click",(function(){return o.toggleShow("psw")})),b.Lb(36,"i",20),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(37,"div",9),b.Pb(38,"label",21),b.zc(39,"Confirm Password"),b.Ob(),b.Pb(40,"div",11),b.Pb(41,"div",16),b.Pb(42,"input",22),b.ac("ngModelChange",(function(e){return o._confirmData.confirmpassword=e})),b.Ob(),b.Pb(43,"div",18),b.Pb(44,"span",19),b.ac("click",(function(){return o.toggleShow("cpsw")})),b.Lb(45,"i",20),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(46,"div",9),b.Pb(47,"label",23),b.zc(48,"Passcode"),b.Ob(),b.Pb(49,"div",11),b.Pb(50,"div",16),b.Pb(51,"input",24),b.ac("ngModelChange",(function(e){return o._obj.passcode=e})),b.Ob(),b.Pb(52,"div",18),b.Pb(53,"span",19),b.ac("click",(function(){return o.toggleShow("psc")})),b.Lb(54,"i",20),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(55,"div",9),b.Pb(56,"label",25),b.zc(57,"Confirm Passcode"),b.Ob(),b.Pb(58,"div",11),b.Pb(59,"div",16),b.Pb(60,"input",26),b.ac("ngModelChange",(function(e){return o._confirmData.confirmpasscode=e})),b.Ob(),b.Pb(61,"div",18),b.Pb(62,"span",19),b.ac("click",(function(){return o.toggleShow("cpsc")})),b.Lb(63,"i",20),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Pb(64,"div",9),b.Pb(65,"label",27),b.zc(66,"Phone"),b.Ob(),b.Pb(67,"div",11),b.Pb(68,"input",28),b.ac("ngModelChange",(function(e){return o._obj.phone=e})),b.Ob(),b.Ob(),b.Ob(),b.Pb(69,"div",9),b.Pb(70,"label",27),b.zc(71,"Email"),b.Ob(),b.Pb(72,"div",11),b.Pb(73,"input",29),b.ac("ngModelChange",(function(e){return o._obj.email=e})),b.Ob(),b.Ob(),b.Ob(),b.Pb(74,"div",9),b.Pb(75,"label",30),b.zc(76,"User Type"),b.Ob(),b.Pb(77,"div",11),b.Pb(78,"select",31),b.ac("ngModelChange",(function(e){return o._obj.userrole=e})),b.xc(79,O,2,2,"option",32),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob(),b.Ob()),2&e&&(b.xb(22),b.ic("ngModel",o._obj.userid)("ngModelOptions",b.lc(27,w)),b.xb(5),b.ic("ngModel",o._obj.username)("ngModelOptions",b.lc(28,w)),b.xb(6),b.ic("type",o.show.psw?"text":"password")("ngModel",o._obj.password)("ngModelOptions",b.lc(29,w)),b.xb(3),b.ic("ngClass",o.show.psw?"fa fa-eye":"fa fa-eye-slash"),b.xb(6),b.ic("type",o.show.cpsw?"text":"password")("ngModel",o._confirmData.confirmpassword)("ngModelOptions",b.lc(30,w)),b.xb(3),b.ic("ngClass",o.show.cpsw?"fa fa-eye":"fa fa-eye-slash"),b.xb(6),b.ic("type",o.show.psc?"text":"password")("ngModel",o._obj.passcode)("ngModelOptions",b.lc(31,w)),b.xb(3),b.ic("ngClass",o.show.psc?"fa fa-eye":"fa fa-eye-slash"),b.xb(6),b.ic("type",o.show.cpsc?"text":"password")("ngModel",o._confirmData.confirmpasscode)("ngModelOptions",b.lc(32,w)),b.xb(3),b.ic("ngClass",o.show.cpsc?"fa fa-eye":"fa fa-eye-slash"),b.xb(5),b.ic("ngModel",o._obj.phone)("ngModelOptions",b.lc(33,w)),b.xb(5),b.ic("ngModel",o._obj.email)("ngModelOptions",b.lc(34,w)),b.xb(5),b.ic("ngModel",o._obj.userrole)("ngModelOptions",b.lc(35,w)),b.xb(1),b.ic("ngForOf",o._typelist))},directives:[r.o,r.f,r.g,r.a,r.e,r.h,s.k,r.m,s.l,r.i,r.n],styles:["legend[_ngcontent-%COMP%]{width:100%;font-size:21px;line-height:inherit;padding:5px 0;border-bottom:1px solid #3a3939}.card-header[_ngcontent-%COMP%]{padding:10px 0 0;background-color:#fff;margin-bottom:0}.card[_ngcontent-%COMP%]{padding:5px 10px 0}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}"]}),P),y=i("sYmb"),_=[{path:"",component:h},{path:"user-detail",component:M},{path:"user-detail/:id",component:M}],x=((v=function o(){e(this,o)}).\u0275mod=b.Ib({type:v}),v.\u0275inj=b.Hb({factory:function(e){return new(e||v)},imports:[[s.b,r.b,r.l,a.i,a.l,l.a,y.b,c.e.forChild(_)]]}),v)}}])}();